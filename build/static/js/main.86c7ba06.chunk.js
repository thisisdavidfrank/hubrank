(window.webpackJsonphubrank=window.webpackJsonphubrank||[]).push([[0],{11:function(e,t,a){e.exports=a(21)},16:function(e,t,a){},17:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(9),s=a.n(o),i=(a(16),a(17),a(3)),c=a(4),l=a(6),u=a(5),p=a(7),m=a(10),h=(a(20),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={reposRankType:"",reposArray:[],reposColumns:[]},e.columns=[{Header:function(e){return r.a.createElement("div",{className:"header-cell rank-item"},"Popularity Rank")},width:90,accessor:"rank",Cell:function(e){return r.a.createElement("div",{key:e.original.id+"_rank"},r.a.createElement("div",{className:"info-cell rank-item"},e.value))}},{Header:function(e){return r.a.createElement("div",{className:"header-cell"},"Repo Name")},accessor:"name",width:200,Cell:function(e){return r.a.createElement("div",{key:e.original.id+"_name"},r.a.createElement("div",{className:"info-cell"},r.a.createElement("a",{href:e.value},e.value)))}},{Header:function(e){return r.a.createElement("div",{className:"header-cell"},"Description")},accessor:"description",width:300,Cell:function(e){return r.a.createElement("div",{key:e.original.id+"_desc"},r.a.createElement("div",{className:"info-cell"},r.a.createElement("span",null,e.value)))}},{Header:function(e){return r.a.createElement("div",{className:"header-cell"},"Repo Size")},width:100,accessor:"size",Cell:function(e){return r.a.createElement("div",{key:e.original.id+"_size"},r.a.createElement("div",{className:"info-cell"},r.a.createElement("span",null,Math.round(e.value/1024)+" MB")))}}],e.rankingColumns={forks:{Header:function(t){return r.a.createElement("div",{className:"header-cell",style:"forks"===e.state.reposRankType?{color:"#CE6900"}:{}},"Forks")},accessor:"forks"},stargazers_count:{Header:function(t){return r.a.createElement("div",{className:"header-cell",style:"stargazers_count"===e.state.reposRankType?{color:"#CE6900"}:{}},"Stargazers")},accessor:"stargazers_count"},watchers_count:{Header:function(t){return r.a.createElement("div",{className:"header-cell",style:"watchers_count"===e.state.reposRankType?{color:"#CE6900"}:{}},"Watchers")},accessor:"watchers_count"}},e.setRankingColumnDefinition(),e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"setRankingColumnDefinition",value:function(){var e=this,t=function(){var t=e.rankingColumns[a];t.width=90,t.sortable=!1,t.Cell=function(a){return r.a.createElement("div",{key:a.original.id+"_"+t.accessor},r.a.createElement("div",{className:"info-cell",style:e.state.reposRankType===t.accessor?{color:"#CE6900"}:{}},a.value))}};for(var a in this.rankingColumns)t()}},{key:"componentWillReceiveProps",value:function(e){var t=e.reposRankType,a=this.rankingColumns[t],n=[];for(var r in this.rankingColumns)r!==t&&n.push(this.rankingColumns[r]);this.setState({reposColumns:[].concat(this.columns.slice(0,1),a,this.columns.slice(1),n)}),this.setState({reposArray:e.reposArray,reposRankType:e.reposRankType})}},{key:"render",value:function(){return r.a.createElement(m.a,{style:{width:"100%",height:"calc(100vh - 80px)",background:this.state.reposArray.length>0?"#FFFFFF":"#282c34"},data:this.state.reposArray,columns:this.state.reposColumns,pageSize:this.state.reposArray.length,showPageSizeOptions:!1,showPagination:!1,noDataText:"Getting the entire repositories list..."})}}]),t}(r.a.Component)),f=function e(){Object(i.a)(this,e)};f.getOrganizationRepos=function(e,t){f.getRepos("https://api.github.com/orgs/"+e+"/repos?per_page=100",[],t)},f.getRepos=function(e,t,a){fetch(e,{method:"get",headers:new Headers({Accept:"application/vnd.github.inertia-preview+json"})}).then(function(e){e.json().then(function(n){t=t.concat(n);var r=e.headers.get("Link");if(r){var o=r.indexOf('>; rel="next"');if(o>-1){var s=r.substring(0,o).substring(1);f.getRepos(s,t,a)}else a(t)}else a(t)})})};var d=f,v=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={reposRankType:"forks",reposOrganization:"netflix",reposArray:[]},a.sortRepos=function(e){var t=a.state.reposRankType;e.sort(function(e,a){return Number(e[t])<Number(a[t])?1:Number(e[t])===Number(a[t])?0:-1});var n=1;e.forEach(function(e){e.rank=n++}),a.setState({reposArray:e})},a.processResponse=function(e){a.sortRepos(e)},a.setRankType=function(e){a.setState({reposRankType:e},function(){a.sortRepos(a.state.reposArray)})},a.setOrganization=function(e){a.setState({reposOrganization:e},function(){a.setState({reposArray:[]},function(){a.getRepos()})})},a.getRepos=function(){d.getOrganizationRepos(a.state.reposOrganization,a.processResponse)},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.getRepos()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"title"},"HubRank"),r.a.createElement("div",{className:"ranking-info"},r.a.createElement("span",null,"Github popularity ranking by:"),r.a.createElement("select",{onChange:function(t){return e.setRankType(t.currentTarget.value)}},r.a.createElement("option",{value:"forks"},"Forks"),r.a.createElement("option",{value:"stargazers_count"},"Stargazers"),r.a.createElement("option",{value:"watchers_count"},"Watchers")),r.a.createElement("span",null,"of all repositories under:"),r.a.createElement("select",{onChange:function(t){return e.setOrganization(t.currentTarget.value)}},r.a.createElement("option",{value:"netflix"},"Netflix"),r.a.createElement("option",{value:"tensorflow"},"TensorFlow"),r.a.createElement("option",{value:"ethereum"},"Ethereum"))),r.a.createElement("div",{className:"grid-container"},r.a.createElement(h,{reposArray:this.state.reposArray,reposRankType:this.state.reposRankType})))}}]),t}(r.a.Component);var g=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.86c7ba06.chunk.js.map